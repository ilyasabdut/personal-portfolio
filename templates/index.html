{{ define "content" }}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ilyas Abduttawab</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <main>
      <header>
        <div class="header">
          <h1>This is a portfolio website.</h1>
          <span class="toggle-icon" onclick="toggleDarkMode()">ðŸŒ™</span>
        </div>
        <p>And it's minimal.</p>
      </header>

      <section>
        <h2>Intro</h2>
        <p>
          My portfolio website is inspired by
          <a href="http://motherfuckingwebsite.com/">this</a> website. Simple and minimal,
          without fancy animation or CSS frameworks. You can see more projects on my
          <a href="https://github.com/ilyasabdut">GitHub</a> page.
        </p>
      </section>

      <section>
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <h2>Portfolio</h2>
          <input 
          type="text" 
          name="search" 
          id="search" 
          placeholder="Search projects..." 
          hx-get="/search" 
          hx-trigger="keyup changed delay:300ms" 
          hx-target="#project-table-body" 
          hx-swap="outerHTML"
        />
      </div>

        <table>
          <thead>
            <tr>
              <th>Project Name</th>
              <th>Tech Stack</th>
              <th>Deployed</th>
              <th>Description</th>
              <th>Link</th>
            </tr>
          </thead>
      
          {{ template "project_list" . }}
        </table>
      </section>
      

      <section>
        <h2>You can contact me on:</h2>
        <ul>
          <li><a href="https://www.linkedin.com/in/ilyasabdut/">LinkedIn</a></li>
          <li><a href="https://instagram.com/ilyasabdut">Instagram</a></li>
        </ul>
      </section>
    </main>

    <script>
      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        localStorage.setItem("theme", isDark ? "dark" : "light");
        document.querySelector(".toggle-icon").textContent = isDark ? "ðŸŒž" : "ðŸŒ™";
      }
    
      // Initialize on page load
      (function () {
        const saved = localStorage.getItem("theme");
        if (saved === "dark") {
          document.body.classList.add("dark-mode");
          document.addEventListener("DOMContentLoaded", () => {
            document.querySelector(".toggle-icon").textContent = "ðŸŒž";
          });
        }
      })();
    </script>
  </body>
</html>
{{ end }}
